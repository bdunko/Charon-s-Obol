[gd_scene load_steps=21 format=3 uid="uid://btdousdmcb6d3"]

[ext_resource type="Script" path="res://main.gd" id="1_68se7"]
[ext_resource type="Texture2D" uid="uid://cvi6aad8v1ow8" path="res://assets/world/river.png" id="2_f8cb3"]
[ext_resource type="PackedScene" uid="uid://bkl5p2djoo52i" path="res://components/coin.tscn" id="3_43qkv"]
[ext_resource type="Script" path="res://ui/shop.gd" id="3_ie1li"]
[ext_resource type="Texture2D" uid="uid://sr30u1imc127" path="res://assets/world/table.png" id="3_lyhfa"]
[ext_resource type="Script" path="res://dialogue_manager.gd" id="4_nh4kq"]
[ext_resource type="Script" path="res://ui/flip_button.gd" id="5_txadv"]
[ext_resource type="Script" path="res://ui/accept_button.gd" id="6_qnf0i"]
[ext_resource type="PackedScene" uid="uid://bjl18p6kktksk" path="res://ui/voyage.tscn" id="7_o62wp"]
[ext_resource type="Script" path="res://ui/shop_continue_button.gd" id="8_5xkxl"]
[ext_resource type="Script" path="res://ui/end_round_button.gd" id="8_kge6t"]
[ext_resource type="FontFile" uid="uid://dgfoet7uiqnul" path="res://assets/fonts/alagard.ttf" id="10_5ty3u"]
[ext_resource type="Script" path="res://ui/lives_label.gd" id="10_ihbyb"]
[ext_resource type="Script" path="res://ui/die_button.gd" id="10_urpx8"]
[ext_resource type="Script" path="res://ui/fragments_label.gd" id="11_3fcsv"]
[ext_resource type="Script" path="res://ui/voyage_continue_button.gd" id="11_pfkss"]
[ext_resource type="Script" path="res://ui/board_button.gd" id="12_dq7f4"]
[ext_resource type="Script" path="res://ui/pay_toll_button.gd" id="12_rlbb2"]
[ext_resource type="PackedScene" uid="uid://bedblkbwue803" path="res://ui/textbox.tscn" id="13_kjj73"]
[ext_resource type="Script" path="res://active_power_label.gd" id="15_vfx1c"]

[node name="Game" type="Node2D"]
script = ExtResource("1_68se7")

[node name="RiverBG" type="Sprite2D" parent="."]
texture = ExtResource("2_f8cb3")
centered = false

[node name="TableBG" type="Sprite2D" parent="."]
texture = ExtResource("3_lyhfa")
centered = false

[node name="UI" type="Node" parent="."]

[node name="DialogueManager" type="Node" parent="UI"]
script = ExtResource("4_nh4kq")

[node name="PlayerTextboxs" type="HBoxContainer" parent="UI"]
z_index = 1
offset_left = 6.0
offset_top = 157.0
offset_right = 314.0
offset_bottom = 173.0
pivot_offset = Vector2(154, 8)
alignment = 1

[node name="TossButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
custom_minimum_size = Vector2(41, 0)
layout_mode = 2
script = ExtResource("5_txadv")

[node name="TextMargin" parent="UI/PlayerTextboxs/TossButton" index="1"]
size_flags_horizontal = 1

[node name="Text" parent="UI/PlayerTextboxs/TossButton/TextMargin" index="0"]
size_flags_horizontal = 1
text = "[center]Toss[/center]"

[node name="AcceptButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
layout_mode = 2
script = ExtResource("6_qnf0i")

[node name="Text" parent="UI/PlayerTextboxs/AcceptButton/TextMargin" index="0"]
text = "Accept"

[node name="ShopContinueButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
layout_mode = 2
script = ExtResource("8_5xkxl")

[node name="Text" parent="UI/PlayerTextboxs/ShopContinueButton/TextMargin" index="0"]
text = "Continue"

[node name="EndRoundButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
layout_mode = 2
script = ExtResource("8_kge6t")

[node name="Text" parent="UI/PlayerTextboxs/EndRoundButton/TextMargin" index="0"]
text = "End Round"

[node name="DieButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
layout_mode = 2
script = ExtResource("10_urpx8")

[node name="Text" parent="UI/PlayerTextboxs/DieButton/TextMargin" index="0"]
text = "Die, Forgotten"

[node name="PayTollButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
layout_mode = 2
script = ExtResource("12_rlbb2")

[node name="Text" parent="UI/PlayerTextboxs/PayTollButton/TextMargin" index="0"]
text = "Pay Toll (1/20[img=12x13]res://assets/icons/coin_icon.png[/img])[center]"

[node name="VoyageContinueButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
layout_mode = 2
script = ExtResource("11_pfkss")

[node name="Text" parent="UI/PlayerTextboxs/VoyageContinueButton/TextMargin" index="0"]
text = "Continue"

[node name="BoardButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
layout_mode = 2
script = ExtResource("12_dq7f4")

[node name="Text" parent="UI/PlayerTextboxs/BoardButton/TextMargin" index="0"]
text = "Board"

[node name="LivesLabel" type="Label" parent="UI"]
texture_filter = 1
offset_left = 4.0
offset_top = 74.0
offset_right = 72.0
offset_bottom = 93.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_5ty3u")
theme_override_font_sizes/font_size = 16
text = "3"
horizontal_alignment = 1
script = ExtResource("10_ihbyb")

[node name="FragmentsLabel" type="Label" parent="UI"]
texture_filter = 1
offset_left = 247.0
offset_top = 74.0
offset_right = 315.0
offset_bottom = 93.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_5ty3u")
text = "5"
horizontal_alignment = 1
script = ExtResource("11_3fcsv")

[node name="ActivePowerLabel" type="RichTextLabel" parent="UI"]
visible = false
texture_filter = 1
offset_left = 76.0
offset_top = 41.0
offset_right = 248.0
offset_bottom = 91.0
theme_override_fonts/normal_font = ExtResource("10_5ty3u")
bbcode_enabled = true
text = "[center]Power[/center]"
autowrap_mode = 2
script = ExtResource("15_vfx1c")

[node name="ResetButton" type="Button" parent="UI"]
visible = false
texture_filter = 1
offset_left = 127.0
offset_top = 48.0
offset_right = 192.0
offset_bottom = 69.0
text = "Reset"

[node name="Voyage" parent="UI" instance=ExtResource("7_o62wp")]
position = Vector2(65, 26)

[node name="Table" type="Node2D" parent="."]

[node name="CoinRow" type="HBoxContainer" parent="Table"]
offset_left = 6.0
offset_top = 113.0
offset_right = 314.0
offset_bottom = 149.0
size_flags_horizontal = 4
size_flags_vertical = 4
mouse_filter = 2
theme_override_constants/separation = 2
alignment = 1

[node name="Coin" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2

[node name="Coin2" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin3" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin4" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin5" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin6" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin7" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin8" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Shop" type="HBoxContainer" parent="Table"]
visible = false
offset_left = 77.0
offset_top = 40.0
offset_right = 243.0
offset_bottom = 76.0
mouse_filter = 2
theme_override_constants/separation = 14
alignment = 1
script = ExtResource("3_ie1li")

[node name="GenericCoinContainer" type="HBoxContainer" parent="Table/Shop"]
layout_mode = 2
mouse_filter = 2

[node name="Coin" parent="Table/Shop/GenericCoinContainer" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 4

[node name="GodCoinContainer" type="HBoxContainer" parent="Table/Shop"]
layout_mode = 2
size_flags_vertical = 4
mouse_filter = 2

[node name="Coin" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_43qkv")]
layout_mode = 2

[node name="Coin2" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_43qkv")]
layout_mode = 2

[node name="Coin3" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_43qkv")]
layout_mode = 2

[node name="Arrows" type="Node" parent="."]

[node name="RedSoulFragments" type="Node" parent="."]

[node name="BlueSoulFragments" type="Node" parent="."]

[node name="Points" type="Node" parent="."]

[node name="Charon" type="Node2D" parent="Points"]
position = Vector2(160, -99)

[node name="BlueSoulFragmentPile" type="Node2D" parent="Points"]
position = Vector2(280, 44)

[node name="Player" type="Node2D" parent="Points"]
position = Vector2(160, 210)

[node name="RedSoulFragmentPile" type="Node2D" parent="Points"]
position = Vector2(37, 46)

[node name="ArrowPile" type="Node2D" parent="Points"]
position = Vector2(50, 166)

[connection signal="clicked" from="UI/PlayerTextboxs/TossButton" to="." method="_on_toss_button_clicked"]
[connection signal="clicked" from="UI/PlayerTextboxs/AcceptButton" to="." method="_on_accept_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/ShopContinueButton" to="." method="_on_continue_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/EndRoundButton" to="." method="_on_end_round_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/DieButton" to="." method="_on_die_button_clicked"]
[connection signal="clicked" from="UI/PlayerTextboxs/PayTollButton" to="." method="_on_pay_toll_button_clicked"]
[connection signal="clicked" from="UI/PlayerTextboxs/VoyageContinueButton" to="." method="_on_voyage_continue_button_clicked"]
[connection signal="clicked" from="UI/PlayerTextboxs/BoardButton" to="." method="_on_board_button_clicked"]
[connection signal="pressed" from="UI/ResetButton" to="." method="_on_reset_button_pressed"]
[connection signal="coin_purchased" from="Table/Shop" to="." method="_on_shop_coin_purchased"]

[editable path="UI/PlayerTextboxs/TossButton"]
[editable path="UI/PlayerTextboxs/AcceptButton"]
[editable path="UI/PlayerTextboxs/ShopContinueButton"]
[editable path="UI/PlayerTextboxs/EndRoundButton"]
[editable path="UI/PlayerTextboxs/DieButton"]
[editable path="UI/PlayerTextboxs/PayTollButton"]
[editable path="UI/PlayerTextboxs/VoyageContinueButton"]
[editable path="UI/PlayerTextboxs/BoardButton"]
