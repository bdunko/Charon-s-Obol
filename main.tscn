[gd_scene load_steps=20 format=3 uid="uid://btdousdmcb6d3"]

[ext_resource type="Script" path="res://main.gd" id="1_68se7"]
[ext_resource type="Texture2D" uid="uid://cvi6aad8v1ow8" path="res://assets/world/river.png" id="2_f8cb3"]
[ext_resource type="PackedScene" uid="uid://bkl5p2djoo52i" path="res://components/coin.tscn" id="3_43qkv"]
[ext_resource type="PackedScene" uid="uid://svl2gfhqrjtk" path="res://ui/shop_item.tscn" id="3_d2o1n"]
[ext_resource type="Script" path="res://ui/shop.gd" id="3_ie1li"]
[ext_resource type="Texture2D" uid="uid://sr30u1imc127" path="res://assets/world/table.png" id="3_lyhfa"]
[ext_resource type="Script" path="res://ui/flip_button.gd" id="5_txadv"]
[ext_resource type="Script" path="res://ui/accept_button.gd" id="6_qnf0i"]
[ext_resource type="Script" path="res://ui/continue_button.gd" id="7_fn2pr"]
[ext_resource type="Script" path="res://ui/warning_label.gd" id="7_gwofi"]
[ext_resource type="PackedScene" uid="uid://bjl18p6kktksk" path="res://ui/voyage.tscn" id="7_o62wp"]
[ext_resource type="Script" path="res://ui/end_round_button.gd" id="8_kge6t"]
[ext_resource type="FontFile" uid="uid://dgfoet7uiqnul" path="res://assets/fonts/alagard.ttf" id="10_5ty3u"]
[ext_resource type="Script" path="res://ui/power_label.gd" id="10_aytg2"]
[ext_resource type="Script" path="res://ui/lives_label.gd" id="10_ihbyb"]
[ext_resource type="Script" path="res://ui/fragments_label.gd" id="11_3fcsv"]
[ext_resource type="PackedScene" uid="uid://bedblkbwue803" path="res://ui/textbox.tscn" id="13_kjj73"]
[ext_resource type="Texture2D" uid="uid://bvm3hdbvg6vry" path="res://assets/ninepatch/charon_dialogue_9patch.png" id="14_une3h"]
[ext_resource type="Script" path="res://ui/charon_textbox.gd" id="15_jk3ch"]

[node name="Game" type="Node2D"]
script = ExtResource("1_68se7")

[node name="RiverBG" type="Sprite2D" parent="."]
texture = ExtResource("2_f8cb3")
centered = false

[node name="TableBG" type="Sprite2D" parent="."]
texture = ExtResource("3_lyhfa")
centered = false

[node name="UI" type="CanvasLayer" parent="."]

[node name="CharonTextbox" type="BoxContainer" parent="UI"]
offset_top = 5.0
offset_right = 320.0
offset_bottom = 21.0
alignment = 1
script = ExtResource("15_jk3ch")

[node name="Textbox" parent="UI/CharonTextbox" instance=ExtResource("13_kjj73")]
layout_mode = 2

[node name="NinePatchRect" parent="UI/CharonTextbox/Textbox" index="0"]
texture = ExtResource("14_une3h")

[node name="Text" parent="UI/CharonTextbox/Textbox/TextMargin" index="0"]
theme_override_colors/default_color = Color(0.737255, 0.290196, 0.607843, 1)
text = "Charon Dialogue"

[node name="PlayerTextboxs" type="HBoxContainer" parent="UI"]
offset_left = 6.0
offset_top = 159.0
offset_right = 314.0
offset_bottom = 175.0
alignment = 1

[node name="FlipButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
z_index = 0
custom_minimum_size = Vector2(41, 0)
layout_mode = 2
script = ExtResource("5_txadv")

[node name="TextMargin" parent="UI/PlayerTextboxs/FlipButton" index="1"]
size_flags_horizontal = 1

[node name="Text" parent="UI/PlayerTextboxs/FlipButton/TextMargin" index="0"]
size_flags_horizontal = 1
text = "[center]Flip[/center]"

[node name="AcceptButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
z_index = 0
layout_mode = 2
script = ExtResource("6_qnf0i")

[node name="Text" parent="UI/PlayerTextboxs/AcceptButton/TextMargin" index="0"]
text = "Accept"

[node name="ContinueButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
visible = false
z_index = 0
layout_mode = 2
script = ExtResource("7_fn2pr")

[node name="Text" parent="UI/PlayerTextboxs/ContinueButton/TextMargin" index="0"]
text = "Continue"

[node name="EndRoundButton" parent="UI/PlayerTextboxs" instance=ExtResource("13_kjj73")]
z_index = 0
layout_mode = 2
script = ExtResource("8_kge6t")

[node name="Text" parent="UI/PlayerTextboxs/EndRoundButton/TextMargin" index="0"]
text = "End Round"

[node name="LivesLabel" type="Label" parent="UI"]
texture_filter = 1
offset_left = 6.0
offset_top = 62.0
offset_right = 74.0
offset_bottom = 81.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_5ty3u")
theme_override_font_sizes/font_size = 16
text = "3"
horizontal_alignment = 1
script = ExtResource("10_ihbyb")

[node name="FragmentsLabel" type="Label" parent="UI"]
texture_filter = 1
offset_left = 240.0
offset_top = 61.0
offset_right = 308.0
offset_bottom = 80.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("10_5ty3u")
text = "5"
horizontal_alignment = 1
script = ExtResource("11_3fcsv")

[node name="PowerLabel" type="Label" parent="UI"]
texture_filter = 1
offset_left = 9.0
offset_top = 74.0
offset_right = 310.0
offset_bottom = 119.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_constants/line_spacing = 0
theme_override_fonts/font = ExtResource("10_5ty3u")
theme_override_font_sizes/font_size = 16
text = "Tetrobol of Hades
Destroy a coin and gain fragments.
"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2
script = ExtResource("10_aytg2")

[node name="ResetButton" type="Button" parent="UI"]
visible = false
texture_filter = 1
offset_left = 127.0
offset_top = 48.0
offset_right = 192.0
offset_bottom = 69.0
text = "Reset"

[node name="WarningLabel" type="Label" parent="UI"]
visible = false
texture_filter = 1
offset_left = -76.0
offset_top = 13.0
offset_right = 372.0
offset_bottom = 29.0
text = "Can't do that!"
horizontal_alignment = 1
script = ExtResource("7_gwofi")

[node name="Timer" type="Timer" parent="UI/WarningLabel"]
wait_time = 2.0

[node name="Voyage" parent="UI" instance=ExtResource("7_o62wp")]
visible = false
position = Vector2(150, 27)

[node name="Table" type="Node2D" parent="."]

[node name="CoinRow" type="HBoxContainer" parent="Table"]
offset_left = 6.0
offset_top = 117.0
offset_right = 314.0
offset_bottom = 153.0
size_flags_horizontal = 4
size_flags_vertical = 4
mouse_filter = 2
theme_override_constants/separation = 2
alignment = 1

[node name="Coin" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2

[node name="Coin2" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin3" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin4" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin5" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin6" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin7" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Coin8" parent="Table/CoinRow" instance=ExtResource("3_43qkv")]
layout_mode = 2
size_flags_vertical = 8

[node name="Shop" type="HBoxContainer" parent="Table"]
visible = false
offset_left = 77.0
offset_top = 18.0
offset_right = 243.0
offset_bottom = 78.0
mouse_filter = 2
theme_override_constants/separation = 14
alignment = 1
script = ExtResource("3_ie1li")

[node name="GenericCoinContainer" type="HBoxContainer" parent="Table/Shop"]
layout_mode = 2
mouse_filter = 2

[node name="GenericCoinShopItem" parent="Table/Shop/GenericCoinContainer" instance=ExtResource("3_d2o1n")]
layout_mode = 2

[node name="GodCoinContainer" type="HBoxContainer" parent="Table/Shop"]
layout_mode = 2
mouse_filter = 2

[node name="GodCoinShopItem1" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_d2o1n")]
layout_mode = 2

[node name="GodCoinShopItem2" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_d2o1n")]
layout_mode = 2

[node name="GodCoinShopItem3" parent="Table/Shop/GodCoinContainer" instance=ExtResource("3_d2o1n")]
layout_mode = 2

[node name="Voyage" parent="." instance=ExtResource("7_o62wp")]
position = Vector2(64, 34)

[node name="Arrows" type="Node" parent="."]

[node name="RedSoulFragments" type="Node" parent="."]

[node name="BlueSoulFragments" type="Node" parent="."]

[node name="Points" type="Node" parent="."]

[node name="Charon" type="Node2D" parent="Points"]
position = Vector2(160, -99)

[node name="BlueSoulFragmentPile" type="Node2D" parent="Points"]
position = Vector2(273, 34)

[node name="Player" type="Node2D" parent="Points"]
position = Vector2(160, 210)

[node name="RedSoulFragmentPile" type="Node2D" parent="Points"]
position = Vector2(39, 34)

[node name="ArrowPile" type="Node2D" parent="Points"]
position = Vector2(50, 164)

[connection signal="clicked" from="UI/PlayerTextboxs/FlipButton" to="." method="_on_flip_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/AcceptButton" to="." method="_on_accept_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/ContinueButton" to="." method="_on_continue_button_pressed"]
[connection signal="clicked" from="UI/PlayerTextboxs/EndRoundButton" to="." method="_on_end_round_button_pressed"]
[connection signal="pressed" from="UI/ResetButton" to="." method="_on_reset_button_pressed"]
[connection signal="timeout" from="UI/WarningLabel/Timer" to="UI/WarningLabel" method="_on_timer_timeout"]
[connection signal="coin_purchased" from="Table/Shop" to="." method="_on_shop_coin_purchased"]

[editable path="UI/CharonTextbox/Textbox"]
[editable path="UI/PlayerTextboxs/FlipButton"]
[editable path="UI/PlayerTextboxs/AcceptButton"]
[editable path="UI/PlayerTextboxs/ContinueButton"]
[editable path="UI/PlayerTextboxs/EndRoundButton"]
